<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistical Yearbook - Admissions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../chapters/box-office/history.html" rel="next">
<link href="../../chapters/box-office/index.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="../../site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="../../site_libs/react-18.2.0/react.min.js"></script>
<script src="../../site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="../../site_libs/reactwidget-1.0.0/react-tools.js"></script>
<link href="../../site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="../../site_libs/reactable-binding-0.4.4/reactable.js"></script>
<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Statistical Yearbook</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../chapters/index.html" aria-current="page"> 
<span class="menu-text">Chapters</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/index.html">Statistical Yearbook 2022</a></li><li class="breadcrumb-item"><a href="../../chapters/box-office/index.html">The Box Office</a></li><li class="breadcrumb-item"><a href="../../chapters/box-office/admissions.html">Admissions</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical Yearbook 2022</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../chapters/box-office/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Box Office</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/box-office/admissions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Admissions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/box-office/history.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Annual UK admissions, 1935-2021</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="admissions.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/index.html">Statistical Yearbook 2022</a></li><li class="breadcrumb-item"><a href="../../chapters/box-office/index.html">The Box Office</a></li><li class="breadcrumb-item"><a href="../../chapters/box-office/admissions.html">Admissions</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Admissions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Despite months of closures at the start of the year and subsequent restrictions in the form of capacity limits and rules on social distancing, cinemas enjoyed significantly greater audience numbers in 2021 than in 2020.</p>
<p>Admissions for the year totalled 74 million, up 68% compared with 2020, but still well below the level of attendances seen in 2019 (<span><a href="#fig-admissions-html" class="quarto-xref">Figure&nbsp;1</a></span>).</p>
<div class="cell column-page">
<div id="fig-admissions-html" class="cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-admissions-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f55c48d527cc1b049b6a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f55c48d527cc1b049b6a">{"x":{"data":[{"x":[2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],"y":[172.5,165.5,157.5,171.9,168.3,170.6,177,176.1,44,74],"text":["Year: 2012<br />Admissions (million): 172.5","Year: 2013<br />Admissions (million): 165.5","Year: 2014<br />Admissions (million): 157.5","Year: 2015<br />Admissions (million): 171.9","Year: 2016<br />Admissions (million): 168.3","Year: 2017<br />Admissions (million): 170.6","Year: 2018<br />Admissions (million): 177.0","Year: 2019<br />Admissions (million): 176.1","Year: 2020<br />Admissions (million):  44.0","Year: 2021<br />Admissions (million):  74.0"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(190,190,190,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":3.77952755905512,"color":"rgba(160,32,240,0.5)","dash":"solid"},"frame":null},{"visible":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null}],"layout":{"margin":{"t":63.0236612702366,"r":13.2835201328352,"b":51.2743877127439,"l":43.0386052303861},"font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"title":{"text":"<b> Number of admissions (million) <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":19.1282689912827},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2011.55,2021.45],"tickmode":"array","ticktext":["2012","2014","2016","2018","2020"],"tickvals":[2012,2014,2016,2018,2020],"categoryorder":"array","categoryarray":["2012","2014","2016","2018","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.98505603985056,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.724555643609193,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-8.85,185.85],"tickmode":"array","ticktext":["0","50","100","150"],"tickvals":[0,50,100,150],"categoryorder":"array","categoryarray":["0","50","100","150"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.98505603985056,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.724555643609193,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":12.7521793275218}},"hovermode":"x","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"ec285a3d1f88":{"x":{},"y":{},"type":"scatter"},"ec2878c37433":{"x":{},"y":{}},"ec28395e21aa":{"y":{}}},"cur_data":"ec285a3d1f88","visdat":{"ec285a3d1f88":["function (y) ","x"],"ec2878c37433":["function (y) ","x"],"ec28395e21aa":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-admissions-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Annual UK cinema admissions, 2012-2021. Admissions for the year include all titles on release, including event cinema. Source: Cinema Advertising Agency (CAA), Comscore. <a href="../..\chapters/box-office/data/admissions.csv">Download this data.</a>
</figcaption>
</figure>
</div>
</div>
<p><span><a href="#tbl-markets-html" class="quarto-xref">Table&nbsp;1</a></span> shows admissions data for the largest world and European film markets between 2019 and 2021. As with the UK, the majority of territories saw increased attendances in 2021 in comparison with 2020 but cinema-going in every territory remained well below the level of admissions in 2019. The two territories reporting numbers of ticket sales in 2021 closest to those of 2019 were China (down only 32%) and Russia (-34%) while those with the greatest shortfall between 2019 and 2021 were Indonesia (-82%), Italy (-74%) and South Korea (-73%).</p>
<p>According to Omdia, global cinema admissions in 2021 totalled 3.3 billion, an increase from 1.9 billion in 2020, but still 57% down on the 7.6 billion recorded in 2019.</p>
<div class="cell">
<div id="tbl-markets-html" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-markets-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Largest film markets by admissions, 2019-2021 (ranked by 2021 admissions). Includes all global territories with more than 50 million admissions and all European territories with more than 25 million admissions in the calendar year 2021. Source: Omdia. <a href="../..\chapters/box-office/data/largest-markets.csv">Download this data.</a>
</figcaption>
<div aria-describedby="tbl-markets-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e543ff4fe0b91765e573" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e543ff4fe0b91765e573">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Territory":["China","USA","India","Russia","Japan","Mexico","France","UK","South Korea","Brazil","Germany","Spain","Poland","Indonesia","Italy"],"Admissions 2019 (million)":[1727,1163,1460,219,195,350,209,176,227,176,119,105,61,140,98],"Admissions 2020 (million)":[548,226,225,89,106,65,64,44,60,39,38,29,17,31,28],"Admissions 2021 (million)":[1167,466,427,146,115,114,94,74,61,51,42,41,29,25,25],"+/- 2019 (%)":[-32.4,-59.9,-70.8,-33.6,-41.1,-67.6,-55.1,-57.9,-73.3,-71.3,-64.5,-60.9,-52.4,-82.1,-74.4]},"columns":[{"id":"Territory","name":"Territory","type":"character"},{"id":"Admissions 2019 (million)","name":"Admissions 2019 (million)","type":"numeric"},{"id":"Admissions 2020 (million)","name":"Admissions 2020 (million)","type":"numeric"},{"id":"Admissions 2021 (million)","name":"Admissions 2021 (million)","type":"numeric"},{"id":"+/- 2019 (%)","name":"+/- 2019 (%)","type":"numeric"}],"defaultPageSize":15,"dataKey":"ef38bf21b9209119b8d7169116021cb4"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</figure>
</div>
</div>
<p><span><a href="#tbl-monthly-admissions-html" class="quarto-xref">Table&nbsp;2</a></span> shows UK cinema admissions by month between 2019 and 2021. The figures show both the shortfall in admissions in comparison with the pre-pandemic totals of 2019 and the year-on-year recovery in attendances seen during some months in 2021. It should be noted, however, that following the re-opening of cinemas in the UK in late spring 2021, one or more restrictions (such as mask wearing, social distancing, capacity limits and mandatory vaccine passports) were in operation in some or all parts of the country for the remainder of the year. (Cinemas began reopening in England, Scotland and Wales from 17 May, and in Northern Ireland from 24 May.)</p>
<p>The first film to top the UK box office charts when cinemas reopened in 2021 was the family-friendly Peter Rabbit 2: The Runaway which grossed £4.6 million (in the UK and Republic of Ireland) on its seven-day opening. (Its Friday to Sunday total of £3.8 million was the biggest three-day opening gross in the territory since Sonic the Hedgehog which earned £4.7 million for its three-day debut in February 2020.) The film was one of three top 20 titles released in May and heralded a summer dominated by action, adventure and comedy titles which attracted younger audiences in particular back to cinemas. After May openers Cruella (a UK qualifying film) and the US horror title The Conjuring: The Devil Made Me Do It, top 20 earners in the summer included UK studio-backed titles Black Widow and Fast &amp; Furious 9, along with Space Jam: A New Legacy, The Suicide Squad, Jungle Cruise, The Croods: A New Age and Free Guy. Top grossing UK independent films released in the summer included the year’s second highest earning UK independent title, The Hitman’s Wife’s Bodyguard alongside The Father, The Courier and People Just Do Nothing: Big in Japan.</p>
<p>Admissions rose each month between May (3.5 million) and August (10.4 million) but fell in September to 6.5 million. Traditionally one of the slowest months for ticket sales, September did, however, see the opening of the year’s fourth highest earning release Shang-Chi and the Legend of the Ten Rings. The superhero blockbuster, the 25th film in the Marvel Cinematic Universe and the first to feature an Asian lead, had the largest opening weekend of the year thus far with a three-day gross of £5.8 million.</p>
<p>Shang-Chi’s three-day record was soon overtaken by the debut of another official 25th outing. The much delayed 007 instalment, No Time to Die, originally scheduled for release in April 2020, grossed £21 million on its three-day opening (£25.8 million including Thursday previews), the highest Friday to Sunday tally for a Bond film ever in the UK and Republic of Ireland. Officially released on 1 October, No Time to Die would go on to become the UK’s third highest ever release with a gross of £97 million and was the first film of the year to entice substantial numbers of older audience members back to the cinema. Alongside three other top 20 earners – Dune, the UK studio-backed title Venom: Let There Be Carnage and The Addams Family 2 – and the top earning UK independent film of the year, The French Dispatch, No Time to Die helped propel October’s ticket sales to the highest total of the year at 16.4 million. October was the only month to see an increase in admissions compared with the equivalent month in 2019.</p>
<div class="cell">
<div id="tbl-monthly-admissions-html" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-monthly-admissions-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Monthly UK cinema admissions, 2019-2021. Source: CAA, Comscore. <a href="../..\chapters/box-office/data/bfi-yearbook-2022-uk-box-office-2021.xlsx">Download this data.</a>
</figcaption>
<div aria-describedby="tbl-monthly-admissions-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Admissions (million)</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2019</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2020</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2021</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">% change on 2019</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">January</td>
<td style="text-align: right;">13.7</td>
<td style="text-align: right;">16.5</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">-100.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">February</td>
<td style="text-align: right;">12.2</td>
<td style="text-align: right;">14.5</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">-100.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">March</td>
<td style="text-align: right;">11.4</td>
<td style="text-align: right;">4.8</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">-100.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">April</td>
<td style="text-align: right;">16.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">-100.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">May</td>
<td style="text-align: right;">16.6</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">-78.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">June</td>
<td style="text-align: right;">13.9</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: right;">-49.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">July</td>
<td style="text-align: right;">18.7</td>
<td style="text-align: right;">0.4</td>
<td style="text-align: right;">7.8</td>
<td style="text-align: right;">-58.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">August</td>
<td style="text-align: right;">15.6</td>
<td style="text-align: right;">2.1</td>
<td style="text-align: right;">10.4</td>
<td style="text-align: right;">-33.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">September</td>
<td style="text-align: right;">11.0</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">6.5</td>
<td style="text-align: right;">-40.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">October</td>
<td style="text-align: right;">16.3</td>
<td style="text-align: right;">2.2</td>
<td style="text-align: right;">16.4</td>
<td style="text-align: right;">0.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">November</td>
<td style="text-align: right;">12.2</td>
<td style="text-align: right;">0.3</td>
<td style="text-align: right;">8.8</td>
<td style="text-align: right;">-27.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">December</td>
<td style="text-align: right;">18.5</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">13.5</td>
<td style="text-align: right;">-26.8</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Total</td>
<td style="text-align: right; font-weight: bold;">176.1</td>
<td style="text-align: right; font-weight: bold;">44.0</td>
<td style="text-align: right; font-weight: bold;">74.0</td>
<td style="text-align: right; font-weight: bold;">-58.0</td>
</tr>
</tbody>
</table>


</div>
</div>
</figure>
</div>
</div>
<p><span><a href="#fig-monthly-admissions-5yr-html" class="quarto-xref">Figure&nbsp;2</a></span> shows the level of recovery in cinema-going in 2021 with admissions in the second half of the year mirroring the pattern of previous years. In general, attendances are cyclical, peaking during the school and festival holiday periods when people have more time to go to the cinema.</p>
<div class="cell column-page">
<div id="fig-monthly-admissions-5yr-html" class="cell-output-display quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-monthly-admissions-5yr-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-eb5627cf8241123514fc" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-eb5627cf8241123514fc">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[15,16.5,16.2,15.6,11.3,9.6,17.8,14.5,10.8,12.1,14.1,17.2],"text":["Admissions: 15.0<br />Year: 2017","Admissions: 16.5<br />Year: 2017","Admissions: 16.2<br />Year: 2017","Admissions: 15.6<br />Year: 2017","Admissions: 11.3<br />Year: 2017","Admissions:  9.6<br />Year: 2017","Admissions: 17.8<br />Year: 2017","Admissions: 14.5<br />Year: 2017","Admissions: 10.8<br />Year: 2017","Admissions: 12.1<br />Year: 2017","Admissions: 14.1<br />Year: 2017","Admissions: 17.2<br />Year: 2017"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"2017","legendgroup":"2017","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":3.77952755905512,"color":"rgba(248,118,109,0.5)","dash":"solid"},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[16.2,16.1,13.5,15.5,13.7,10.4,15.6,19.2,10.1,16.1,14.9,15.7],"text":["Admissions: 16.2<br />Year: 2018","Admissions: 16.1<br />Year: 2018","Admissions: 13.5<br />Year: 2018","Admissions: 15.5<br />Year: 2018","Admissions: 13.7<br />Year: 2018","Admissions: 10.4<br />Year: 2018","Admissions: 15.6<br />Year: 2018","Admissions: 19.2<br />Year: 2018","Admissions: 10.1<br />Year: 2018","Admissions: 16.1<br />Year: 2018","Admissions: 14.9<br />Year: 2018","Admissions: 15.7<br />Year: 2018"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"2018","legendgroup":"2018","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":3.77952755905512,"color":"rgba(163,165,0,0.5)","dash":"solid"},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[13.7,12.2,11.4,16,16.6,13.9,18.7,15.6,11,16.3,12.2,18.5],"text":["Admissions: 13.7<br />Year: 2019","Admissions: 12.2<br />Year: 2019","Admissions: 11.4<br />Year: 2019","Admissions: 16.0<br />Year: 2019","Admissions: 16.6<br />Year: 2019","Admissions: 13.9<br />Year: 2019","Admissions: 18.7<br />Year: 2019","Admissions: 15.6<br />Year: 2019","Admissions: 11.0<br />Year: 2019","Admissions: 16.3<br />Year: 2019","Admissions: 12.2<br />Year: 2019","Admissions: 18.5<br />Year: 2019"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"2019","legendgroup":"2019","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":3.77952755905512,"color":"rgba(0,191,125,0.5)","dash":"solid"},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[16.5,14.5,4.8,0,0,0,0.4,2.1,2.7,2.2,0.3,0.5],"text":["Admissions: 16.5<br />Year: 2020","Admissions: 14.5<br />Year: 2020","Admissions:  4.8<br />Year: 2020","Admissions:  0.0<br />Year: 2020","Admissions:  0.0<br />Year: 2020","Admissions:  0.0<br />Year: 2020","Admissions:  0.4<br />Year: 2020","Admissions:  2.1<br />Year: 2020","Admissions:  2.7<br />Year: 2020","Admissions:  2.2<br />Year: 2020","Admissions:  0.3<br />Year: 2020","Admissions:  0.5<br />Year: 2020"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"2020","legendgroup":"2020","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":3.77952755905512,"color":"rgba(0,176,246,0.5)","dash":"solid"},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[0,0,0,0,3.5,7,7.8,10.4,6.5,16.4,8.8,13.5],"text":["Admissions:  0.0<br />Year: 2021","Admissions:  0.0<br />Year: 2021","Admissions:  0.0<br />Year: 2021","Admissions:  0.0<br />Year: 2021","Admissions:  3.5<br />Year: 2021","Admissions:  7.0<br />Year: 2021","Admissions:  7.8<br />Year: 2021","Admissions: 10.4<br />Year: 2021","Admissions:  6.5<br />Year: 2021","Admissions: 16.4<br />Year: 2021","Admissions:  8.8<br />Year: 2021","Admissions: 13.5<br />Year: 2021"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":1,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"2021","legendgroup":"2021","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":3.77952755905512,"color":"rgba(231,107,243,0.5)","dash":"solid"},"frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12],"y":[12.28,11.86,9.18,9.42,9.02,8.18,12.06,12.36,8.22,12.62,10.06,13.08],"text":["Admissions: 12.28<br />Year: 5-yr average","Admissions: 11.86<br />Year: 5-yr average","Admissions:  9.18<br />Year: 5-yr average","Admissions:  9.42<br />Year: 5-yr average","Admissions:  9.02<br />Year: 5-yr average","Admissions:  8.18<br />Year: 5-yr average","Admissions: 12.06<br />Year: 5-yr average","Admissions: 12.36<br />Year: 5-yr average","Admissions:  8.22<br />Year: 5-yr average","Admissions: 12.62<br />Year: 5-yr average","Admissions: 10.06<br />Year: 5-yr average","Admissions: 13.08<br />Year: 5-yr average"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"visible":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","mode":"","frame":null}],"layout":{"margin":{"t":63.0236612702366,"r":13.2835201328352,"b":69.4030734949714,"l":36.6625155666252},"font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022},"title":{"text":"<b> Number of admissions (million) <\/b>","font":{"color":"rgba(0,0,0,1)","family":"","size":19.1282689912827},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,12.6],"tickmode":"array","ticktext":["January","February","March","April","May","June","July","August","September","October","November","December"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12],"categoryorder":"array","categoryarray":["January","February","March","April","May","June","July","August","September","October","November","December"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.98505603985056,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.724555643609193,"zeroline":false,"anchor":"y","title":{"text":"Month","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.96,20.16],"tickmode":"array","ticktext":["0","5","10","15","20"],"tickvals":[0,5,10,15,20],"categoryorder":"array","categoryarray":["0","5","10","15","20"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.98505603985056,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":12.7521793275218},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.724555643609193,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":12.7521793275218},"title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":15.9402241594022}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"ec2856c2bd2":{"x":{},"y":{},"colour":{},"type":"scatter"},"ec284ad67671":{"x":{},"y":{},"colour":{}},"ec286b9a3476":{"x":{},"y":{}},"ec28d0d30d8":{"y":{}}},"cur_data":"ec2856c2bd2","visdat":{"ec2856c2bd2":["function (y) ","x"],"ec284ad67671":["function (y) ","x"],"ec286b9a3476":["function (y) ","x"],"ec28d0d30d8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-monthly-admissions-5yr-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Monthly UK cinema admissions, 2017-2021. Dashed line is 5-year average. Source: CAA. <a href="../..\chapters/box-office/data/bfi-yearbook-2022-uk-box-office-2021.xlsx">Download this data.</a>
</figcaption>
</figure>
</div>
</div>
<!-- Code for reactable table with Total footer -->
<!-- ```{r} -->
<!-- #| label: tbl-monthly-admissions-html -->
<!-- #| tbl-cap: "Monthly UK cinema admissions, 2019-2021. Source: CAA, Comscore. [Download this data.](/chapters/box-office/data/bfi-yearbook-2022-uk-box-office-2021.xlsx)" -->
<!-- reactable( -->
<!--   monthly_admissions, -->
<!--   defaultPageSize = 15, -->
<!--   columns = list( -->
<!--     `Admissions (million)` = colDef(footer = "Total"), -->
<!--     `2019` = colDef(footer = function(values) sprintf("%.1f", sum(values)), format = colFormat(digits = 1)), -->
<!--     `2020` = colDef(footer = function(values) sprintf("%.1f", sum(values)), format = colFormat(digits = 1)), -->
<!--     `2021` = colDef(footer = function(values) sprintf("%.1f", sum(values)), format = colFormat(digits = 1)), -->
<!--     `% change on 2019` = colDef(footer = "-58.0") -->
<!--   ), -->
<!--   defaultColDef = colDef(footerStyle = list(fontWeight = "bold"))) -->
<!-- ``` -->



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../chapters/box-office/index.html" class="pagination-link  aria-label=" the="" box="" office"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">The Box Office</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../chapters/box-office/history.html" class="pagination-link" aria-label="Annual UK admissions, 1935-2021">
        <span class="nav-page-text">Annual UK admissions, 1935-2021</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>